@import '../../shared/theme/colors.css';

.admin-root { display:flex; min-height:100vh; background: linear-gradient(180deg,var(--color-background), #eef4fb); }
.admin-sidebar { width:280px; background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(245,250,255,0.95)); border-right:1px solid var(--color-border); padding:22px; display:flex; flex-direction:column; transition: box-shadow .25s ease, left .25s ease; position:relative; }
.admin-sidebar:hover { box-shadow: 8px 0 30px rgba(13,71,161,0.06); }
.side-brand { font-weight:900; font-size:22px; margin-bottom:20px; letter-spacing:0.6px; position:relative; display:inline-block; background: linear-gradient(90deg,var(--color-primary),var(--color-primaryVariant)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.side-brand::after { content: ''; position: absolute; left: -6px; top: -6px; width: calc(100% + 12px); height: calc(100% + 12px); border-radius: 10px; background: radial-gradient(circle at 10% 20%, rgba(13,71,161,0.06), transparent 20%); opacity:0.9; pointer-events:none; filter: blur(6px); }
.side-nav { display:flex; flex-direction:column; gap:8px; margin-top:6px; }
.side-nav a { color:var(--color-textPrimary); text-decoration:none; padding:10px 14px 10px 26px; border-radius:10px; transition: color .18s ease, transform .18s ease, box-shadow .18s ease; position:relative; display:block; font-weight:600; letter-spacing:0.2px; }

/* Navigation Dropdown Styles */
.nav-dropdown { position: relative; }
.nav-dropdown-trigger { 
  color: var(--color-textPrimary); 
  background: none; 
  border: none; 
  padding: 10px 14px 10px 26px; 
  border-radius: 10px; 
  transition: color .18s ease, transform .18s ease, box-shadow .18s ease; 
  position: relative; 
  display: flex; 
  align-items: center; 
  gap: 8px; 
  font-weight: 600; 
  letter-spacing: 0.2px; 
  width: 100%; 
  text-align: left; 
  cursor: pointer; 
}

.nav-dropdown-trigger span { flex: 1; }
.nav-dropdown-trigger .side-icon:last-child { 
  transition: transform 0.2s ease; 
  margin-left: auto; 
}
.nav-dropdown-trigger.open .side-icon:last-child { 
  transform: rotate(180deg); 
}

.nav-dropdown-trigger::before { 
  content: ''; 
  position: absolute; 
  left: 10px; 
  top: 50%; 
  transform: translateY(-50%) scaleX(0); 
  width: 6px; 
  height: 26px; 
  border-radius: 6px; 
  background: linear-gradient(180deg, var(--color-primary), var(--color-primaryVariant)); 
  transition: transform .22s cubic-bezier(.2,.9,.2,1), opacity .18s; 
  opacity: 0; 
}

.nav-dropdown-trigger:hover::before { 
  transform: translateY(-50%) scaleX(1); 
  opacity: 0.9; 
}
.nav-dropdown-trigger:hover { 
  transform: translateX(6px); 
  color: var(--color-primary); 
  box-shadow: 0 8px 26px rgba(13,71,161,0.06); 
}

.nav-dropdown-content { 
  margin-top: 4px; 
  margin-left: 20px; 
  padding-left: 16px; 
  border-left: 2px solid rgba(13,71,161,0.1); 
  display: flex; 
  flex-direction: column; 
  gap: 4px; 
}

.nav-dropdown-content a { 
  padding: 8px 12px 8px 20px; 
  font-size: 14px; 
  font-weight: 500; 
}

.nav-dropdown-content a::before { 
  left: 6px; 
  width: 4px; 
  height: 20px; 
}
/* left accent indicator for active link */
.side-nav a::before { content: ''; position:absolute; left:10px; top:50%; transform: translateY(-50%) scaleX(0); width:6px; height:26px; border-radius:6px; background: linear-gradient(180deg,var(--color-primary),var(--color-primaryVariant)); transition: transform .22s cubic-bezier(.2,.9,.2,1), opacity .18s; opacity:0; }
.side-nav a:hover::before { transform: translateY(-50%) scaleX(1); opacity:0.9; }
.side-nav a:hover { transform: translateX(6px); color:var(--color-primary); box-shadow: 0 8px 26px rgba(13,71,161,0.06); }
.side-nav a.active { color:var(--color-primary); background: linear-gradient(90deg, rgba(13,71,161,0.04), rgba(13,71,161,0.02)); box-shadow: 0 10px 30px rgba(13,71,161,0.05); transform: translateX(6px); }
.side-nav a.active::before { transform: translateY(-50%) scaleX(1); opacity:1; }
.side-cta { margin-top:auto; }

.admin-main { 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  width: 100%;
  overflow: hidden; /* Prevent layout overflow */
}
.admin-header { 
  height: 72px; 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  padding: 12px 20px; 
  border-bottom: 1px solid var(--color-border); 
  background: rgba(255,255,255,0.6); 
  backdrop-filter: blur(6px);
  flex-shrink: 0; /* Don't shrink header */
}
.admin-content { 
  padding: 28px; 
  flex: 1;
  overflow: auto; /* Allow content to scroll */
  width: 100%;
  position: relative;
  /* Reset any transforms that might cause scaling issues */
  transform: none !important;
  zoom: 1 !important;
}

/* footer */
.admin-footer { padding:14px 22px; border-top:1px solid var(--color-border); background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); }
.admin-footer .footer-inner { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; font-size:13px; color:var(--color-textSecondary); }
@media (max-width:780px){ .admin-footer .footer-inner { flex-direction:column; gap:8px; text-align:center; } }

.dashboard-root .dash-header h2 { margin:0; font-size:20px; }
.muted { color:var(--color-textSecondary); }

.grid { display:grid; grid-template-columns: repeat(4,1fr); gap:18px; margin-top:12px; }
.card { background:var(--color-surface); border-radius:14px; padding:18px; box-shadow: 0 10px 30px rgba(11,37,69,0.06); border:1px solid rgba(14,45,78,0.04); transition: transform .16s ease, box-shadow .16s ease; }
.card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(11,37,69,0.08); }
.stat .big { font-size:30px; font-weight:800; margin-top:8px; color:var(--color-primary); }

.card canvas { width:100% !important; height:100% !important; }

/* small animated glow for active area */
@keyframes pulseAccent {
	0% { box-shadow: 0 0 0 0 rgba(13,71,161,0.06); }
	70% { box-shadow: 0 0 0 8px rgba(13,71,161,0.02); }
	100% { box-shadow: 0 0 0 0 rgba(13,71,161,0); }
}
.side-nav a.active::after { content: ''; position: absolute; right: -16px; top: 50%; transform: translateY(-50%); width: 10px; height: 10px; border-radius: 50%; background: linear-gradient(180deg,var(--color-primary),var(--color-primaryVariant)); opacity: 0.9; filter: blur(6px); animation: pulseAccent 1.8s infinite; }

/* icon styling inside nav links */
.side-icon { display:inline-flex; width:18px; height:18px; margin-right:10px; vertical-align:middle; color:var(--color-textSecondary); }
.side-nav a:hover .side-icon, .side-nav a.active .side-icon { color: var(--color-primary); }

/* profile card at bottom */
.side-profile { margin-top:18px; display:flex; align-items:center; gap:10px; padding:12px; border-radius:12px; background: linear-gradient(90deg, rgba(13,71,161,0.03), rgba(13,71,161,0.01)); }

/* Page containers - ensure consistent styling across all pages */
.checkins-container,
.members-container, 
.employees-container,
.dashboard-container,
.page-container {
  width: 100% !important;
  height: 100% !important;
  overflow: visible !important;
  transform: none !important;
  zoom: 1 !important;
  position: relative !important;
  box-sizing: border-box !important;
}

/* Prevent any child elements from causing layout issues */
.checkins-container *,
.members-container *,
.employees-container *,
.dashboard-container *,
.page-container * {
  box-sizing: border-box;
}

/* Reset any problematic transform or zoom on tables/content */
.datatable-checkin,
.employees-table,
.members-table,
.dashboard-grid {
  transform: none !important;
  zoom: 1 !important;
  width: 100% !important;
}
.side-profile .avatar { width:44px; height:44px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; font-weight:800; color:white; background: linear-gradient(180deg,var(--color-primary),var(--color-primaryVariant)); box-shadow: 0 6px 18px rgba(13,71,161,0.12); }
.side-profile .profile-meta { display:flex; flex-direction:column; }
.side-profile .name { font-weight:700; font-size:13px; }
.side-profile .email { font-size:12px; color:var(--color-textSecondary); }

/* overall vertical accent strip on the left of the layout as a brand accent */
.admin-root::before {
	content: '';
	position: fixed;
	left: 0;
	top: 0;
	bottom: 0;
	width: 10px;
	border-radius: 0 6px 6px 0;
	z-index: 9;
	/* animated vertical gradient */
	background: linear-gradient(180deg, var(--color-primary), var(--color-primaryVariant), #7fb1ff, #cfe9ff);
	background-size: 100% 300%;
	box-shadow: 0 0 40px rgba(13,71,161,0.08);
	animation: accentGradientMove 6s linear infinite;
}

@keyframes accentGradientMove {
	0% { background-position: 0% 0%; }
	50% { background-position: 0% 100%; }
	100% { background-position: 0% 0%; }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	.admin-root::before { animation: none; }
}

/* ensure sidebar sits above the accent strip */
.admin-sidebar { margin-left:10px; }

.two-col { display:grid; grid-template-columns: 2fr 1fr; gap:16px; margin-top:16px; }
.activity { list-style:none; padding:0; margin:8px 0 0 0; color:var(--color-textPrimary); }
.activity li { padding:8px 0; border-bottom:1px dashed rgba(0,0,0,0.04); }
.actions { display:flex; gap:8px; margin-top:8px; }
.btn { padding:10px 12px; border-radius:10px; background: linear-gradient(90deg,var(--Color-primary, var(--color-primary)),var(--color-primaryVariant)); color:white; border:none; cursor:pointer; box-shadow: 0 8px 18px rgba(13,71,161,0.08); }
.btn.outline { background:transparent; border:1px solid var(--color-border); color:var(--color-textPrimary); }

@media (max-width: 980px) { .grid { grid-template-columns: repeat(2,1fr); } .two-col { grid-template-columns:1fr; } }
@media (max-width: 680px) { .admin-sidebar { position:fixed; left:-320px; top:0; bottom:0; transition:left .28s ease; z-index:40; } .admin-root.menu-open .admin-sidebar{ left:0; } .admin-header .menu-btn{ display:inline-flex; } }

/* mobile close button */
.admin-sidebar .mobile-close { display:none; position:absolute; top:10px; right:12px; background:transparent; border:none; font-size:20px; }
@media (max-width:680px){ .admin-sidebar .mobile-close{ display:inline-flex; } }
